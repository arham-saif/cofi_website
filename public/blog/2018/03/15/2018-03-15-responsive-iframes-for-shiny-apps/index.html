<!DOCTYPE html>
<html lang="en-us">

  <head>
  <meta charset="utf-8">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Responsive iframes for Shiny Apps</title>
  <meta name="author" content="" />

  
  <meta name="keywords" content="R, Shiny, dashboards">	
  

  
  <meta name="description" content="Seamlessly embed shiny apps into your website with responsive iframes.">
  

  <meta name="generator" content="Hugo 0.31" />

  <link href='//fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,500,700,800' rel='stylesheet' type='text/css'>

  
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

  
  <link href="/css/animate.css" rel="stylesheet">

  
  
    <link href="/css/style.turquoise.css" rel="stylesheet" id="theme-stylesheet">
  


  
  <link href="/css/custom.css" rel="stylesheet">
  
  
  <link rel="stylesheet" href="/css/github-gist.css" rel="stylesheet" id="theme-stylesheet">
  <link rel="stylesheet" href="/css/iosevka.css" />
  <script src="/js/highlight.pack.js"></script>
  <script>hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();</script>

  
  
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
  <link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon" />
  <link rel="apple-touch-icon" href="/img/apple-touch-icon.png" />
  

  <link href="/css/owl.carousel.css" rel="stylesheet">
  <link href="/css/owl.theme.css" rel="stylesheet">

  <link rel="alternate" href="/index.xml" type="application/rss+xml" title="Culture of Insight">

  
  
    <title>Responsive iframes for Shiny Apps</title>
    <meta property="og:title" content="Responsive iframes for Shiny Apps">
    <meta property="og:type" content="article">
    <meta property="og:description" content="Seamlessly embed shiny apps into your website with responsive iframes.">

      
      <meta name="twitter:card" content="summary_large_image">
      <meta name="twitter:image" content="/img/shiny_iframe.png" >
      <meta property='og:image' content="/img/shiny_iframe.png" >      
      
      
    

</head>


  <body>

    <div id="all">

        <header>

          <div class="navbar-affixed-top" data-spy="affix" data-offset-top="200">

    <div class="navbar navbar-default yamm" role="navigation" id="navbar">

        <div class="container">
            <div class="navbar-header">
                <a class="navbar-brand home" href="/">
                    <img src="/img/logo.png" alt="Responsive iframes for Shiny Apps logo" class="hidden-xs hidden-sm" style="height: 62px; padding-bottom: 15px;">
                    <img src="/img/logo.png" alt="Responsive iframes for Shiny Apps logo" class="visible-xs visible-sm" style="height: 62px; padding-bottom: 15px;">
                    <span class="sr-only">Responsive iframes for Shiny Apps - go to homepage</span>
                </a>
                <div class="navbar-buttons">
                    <button type="button" class="navbar-toggle btn-template-main" data-toggle="collapse" data-target="#navigation">
                      <span class="sr-only">Toggle Navigation</span>
                        <i class="fa fa-align-justify"></i>
                    </button>
                </div>
            </div>
            

            <div class="navbar-collapse collapse" id="navigation">
                <ul class="nav navbar-nav navbar-right">
                  
                  <li class="dropdown">
                    
                    <a href="/">Home</a>
                    
                  </li>
                  
                  <li class="dropdown">
                    
                    <a href="/blog/">Blog</a>
                    
                  </li>
                  
                  <li class="dropdown">
                    
                    <a href="/portfolio/">Portfolio</a>
                    
                  </li>
                  
                  <li class="dropdown">
                    
                    <a href="/faq/">FAQ</a>
                    
                  </li>
                  
                  <li class="dropdown">
                    
                    <a href="/contact/">Contact</a>
                    
                  </li>
                  
                </ul>
            </div>
            

            <div class="collapse clearfix" id="search">

                <form class="navbar-form" role="search">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search">
                        <span class="input-group-btn">

                    <button type="submit" class="btn btn-template-main"><i class="fa fa-search"></i></button>

                </span>
                    </div>
                </form>

            </div>
            

        </div>
    </div>
    

</div>




        </header>

        <div id="heading-breadcrumbs">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h1>Responsive iframes for Shiny Apps</h1>
            </div>
        </div>
    </div>
</div>


        <div id="content">
            <div class="container">

                <div class="row">

                    

                    <div class="col-md-9" id="blog-post">

                        <p class="text-muted text-uppercase mb-small text-right">By <a href="#">Paul Campbell</a> | March 15, 2018</p>

                        <div id="post-content">
                          

<h1 id="getting-shiny-out-into-the-wild">Getting Shiny out into the wild</h1>

<p><a href="https://shiny.rstudio.com/" target="_blank">Shiny</a> has really changed game in terms of analytical web-application development. Anyone with a solid grasp of <a href="https://en.wikipedia.org/wiki/R_(programming_language)" target="_blank">R programming</a> and some basic HTML + CSS knowledge can get production quality apps and dashboards up and running in days rather than months, <em>and</em> be in complete control of the process yourself. Furthermore, because it&rsquo;s all open-source software, you have total ownership of the product you build - unlike many expensive off-the-shelf <a href="https://en.wikipedia.org/wiki/Graphical_user_interface" target="_blank">GUI</a> solutions.</p>

<h2 id="problem">Problem</h2>

<p>Although you have full ownership of your shiny app, one drawback is that you may run into trouble when it comes to deployment. Shiny apps don&rsquo;t <em>just work</em> in the browser. R code can&rsquo;t be run client-side like javascript can. And they can&rsquo;t be deployed on a standard webserver. Shiny apps need to be hosted on a server with R and shiny installed and connected to a running R process. Whilst R is a fast growing language, support for it in the IT world remains relatively small, so this means you will generally be tasked with setting up your own hosting environment, outwith your standard web architecture. <a href="https://www.shinyapps.io/" target="_blank">shinyapps.io</a> from Rstudio is a very user-friendly service that will take care of hosting for you, or if you want more control, setting up your own shiny cloud server is an option. But this isolation can lead to a breakdown in integration between shiny content and regular web content.</p>

<h2 id="solution">Solution</h2>

<p>One way around this is to embed shiny apps into standard webpages in an iframe. This is easily done with a standard iframe, however, shiny apps have a responsive design which means the height of the app is determined by the end users window size. This makes it difficult to seamlessly integrate dynamic content into the iframe which most commonly have a hard coded <code>height</code> attribute. This tends to result in either scroll bars appearing around the app or a big gaping void of existential abyss between the bottom of your app and the next piece of content on your webpage.</p>

<p>Luckily, <a href="https://github.com/davidjbradshaw" target="_blank">David J. Bradshaw</a> has built a javascript <a href="https://github.com/davidjbradshaw/iframe-resizer" target="_blank"><code>iframe-resizer</code></a> library to help us fill this shiny void. Here is a shiny example of it in action on this very webpage.</p>

<p>The buttons below are part of a running shiny app hosted on <a href="https://www.shinyapps.io/" target="_blank">shinyapps.io</a>. Press some of them and see what happens&hellip;</p>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/iframe-resizer/3.5.16/iframeResizer.min.js"></script>
<style>
  iframe {
    min-width: 100%;
  }
</style>
<iframe id="myIframe" src="https://cultureofinsight.shinyapps.io/iframe_example/" scrolling="no" frameborder="no"></iframe>
<script>
  iFrameResize({
    heightCalculationMethod: 'taggedElement'
  });
</script>

<h2 id="how-to-do-it">How to do it</h2>

<p>To acheive this behaviour we need:</p>

<ul>
<li>one <code>js</code> script sourced in the shiny app</li>
<li>a tagged placeholder <code>div</code> at the point in the app you want to be &lsquo;end&rsquo; (after all the charts &lsquo;n tables)</li>
<li>another <code>js</code> script sourced in the parent <code>HTML</code> page</li>
<li>some <code>iframe</code> styling</li>
<li>the <code>iframe</code> itself</li>
<li>a final script telling <code>iframeResizer</code> to go to work on our <code>iframe</code> and look for the tagged <code>&lt;div&gt;</code></li>
</ul>

<p>I&rsquo;m using cdn versions of the scripts but you can download them <a href="http://davidjbradshaw.github.io/iframe-resizer/" target="_blank">here</a> and use local versions if you&rsquo;d prefer.</p>

<p>So firstly, add this to your shiny app <code>UI</code>:</p>

<pre><code class="language-r">tags$head(
      tags$script(src=&quot;https://cdnjs.cloudflare.com/ajax/libs/iframe-resizer/3.5.16/iframeResizer.contentWindow.min.js&quot;,
                  type=&quot;text/javascript&quot;)
      ),
</code></pre>

<p>Then find the spot in the UI you want to be endpoint and add this placeholder <code>&lt;div&gt;</code> <sup class="footnote-ref" id="fnref:-"><a rel="footnote" href="#fn:-">1</a></sup>:</p>

<pre><code class="language-r">HTML('&lt;div data-iframe-height&gt;&lt;/div&gt;')
</code></pre>

<p>Finally, add this code to the parent HTML page you are embedding the shiny app in, in the position you want the app to render (change the source url in the iframe to your shiny app url). For the <a href="https://bookdown.org/yihui/blogdown/" target="_blank">blogdowners</a> amongst us, you can paste this HTML code straight into any <a href="https://rmarkdown.rstudio.com/" target="_blank">Rmarkdown</a> or regular markdown document:</p>

<pre><code class="language-html">&lt;script type=&quot;text/javascript&quot; src=&quot;https://cdnjs.cloudflare.com/ajax/libs/iframe-resizer/3.5.16/iframeResizer.min.js&quot;&gt;&lt;/script&gt;
&lt;style&gt;
  iframe {
    min-width: 100%;
  }
&lt;/style&gt;
&lt;iframe id=&quot;myIframe&quot; src=&quot;https://YOUR_SHINYAPP_URL.com&quot; scrolling=&quot;no&quot; frameborder=&quot;no&quot;&gt;&lt;/iframe&gt;
&lt;script&gt;
  iFrameResize({
    heightCalculationMethod: 'taggedElement'
  });
&lt;/script&gt;
</code></pre>

<p>And that should be that!</p>

<h2 id="going-forward">Going forward</h2>

<p>There&rsquo;s real potential for shiny to find it&rsquo;s way onto more webpages in the public domain. With the ability to match the parent webpage&rsquo;s <code>CSS</code> styling combined with responsive iframe integration, shiny app development and design can be tailored for webpages they are destined for. Here&rsquo;s a great <a href="http://www.piaschile.cl/mercado/benchmarking-internacional/" target="_blank">example</a> of a shiny app built into a full website. h/t <a href="https://twitter.com/jbkunst" target="_blank">Joshua Kunst</a>.</p>

<p>If you&rsquo;re interested in bespoke web-applications for your website, get in touch with us <a href="https://cultureofinsight.com/contact/" target="_blank">here</a>.</p>

<p>Thanks for reading.</p>
<div class="footnotes">

<hr />

<ol>
<li id="fn:-">You can skip this step and use <code>heightCalculationMethod: 'lowestElement'</code> in the final script, but I found this only worked when the iframe height <em>increased</em> in height but not when it <em>decreased</em> in height.
 <a class="footnote-return" href="#fnref:-"><sup>[return]</sup></a></li>
</ol>
</div>

                        </div>
                        
                        
                        <div id="comments">
                            <div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "culture-of-insight" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
                        </div>
                        

                    </div>
                    

                    

                    

                    <div class="col-md-3">

                        

                        







<div class="panel panel-default sidebar-menu">

    <div class="panel-heading">
      <h3 class="panel-title">Categories</h3>
    </div>

    <div class="panel-body">
        <ul class="nav nav-pills nav-stacked">
            
            <li><a href="/categories/tutorials">tutorials (3)</a>
            </li>
            
        </ul>
    </div>
</div>








<div class="panel sidebar-menu">
    <div class="panel-heading">
      <h3 class="panel-title">Tags</h3>
    </div>

    <div class="panel-body">
        <ul class="tag-cloud">
            
            <li><a href="/tags/dashboards"><i class="fa fa-tags"></i> dashboards</a>
            </li>
            
            <li><a href="/tags/data-visualisation"><i class="fa fa-tags"></i> data-visualisation</a>
            </li>
            
            <li><a href="/tags/decision-point"><i class="fa fa-tags"></i> decision-point</a>
            </li>
            
            <li><a href="/tags/ggplot2"><i class="fa fa-tags"></i> ggplot2</a>
            </li>
            
            <li><a href="/tags/mapping"><i class="fa fa-tags"></i> mapping</a>
            </li>
            
            <li><a href="/tags/open-data"><i class="fa fa-tags"></i> open-data</a>
            </li>
            
            <li><a href="/tags/r"><i class="fa fa-tags"></i> r</a>
            </li>
            
            <li><a href="/tags/reproducible-research"><i class="fa fa-tags"></i> reproducible-research</a>
            </li>
            
            <li><a href="/tags/shiny"><i class="fa fa-tags"></i> shiny</a>
            </li>
            
            <li><a href="/tags/social-media-analytics"><i class="fa fa-tags"></i> social-media-analytics</a>
            </li>
            
            <li><a href="/tags/tidy-data"><i class="fa fa-tags"></i> tidy-data</a>
            </li>
            
            <li><a href="/tags/web-scraping"><i class="fa fa-tags"></i> web-scraping</a>
            </li>
            
        </ul>
    </div>
</div>






                        

                    </div>
                    

                    

                </div>
                

            </div>
            
        </div>
        

        <footer id="footer">
    <div class="container">

        
        <div class="col-md-4 col-sm-6">
            <h4>Culture of Insight</h4>

            Getting you to Insight faster in 2018

            <hr class="hidden-md hidden-lg hidden-sm">

        </div>
        
        

        <div class="col-md-4 col-sm-6">

             
            <h4>Recent posts</h4>

            <div class="blog-entries">
                
                <div class="item same-height-row clearfix">
                    <div class="image same-height-always">
                        <a href="/blog/2018/05/02/2018-04-08-multivariate-dot-density-maps-in-r-with-sf-ggplot2/">
                          
                            <img src="/img/party_points.png" class="img-responsive" alt="Multivariate Dot-Density Maps in R with sf &amp; ggplot2">
                          
                        </a>
                    </div>
                    <div class="name same-height-always">
                        <h5><a href="/blog/2018/05/02/2018-04-08-multivariate-dot-density-maps-in-r-with-sf-ggplot2/">Multivariate Dot-Density Maps in R with sf &amp; ggplot2</a></h5>
                    </div>
                </div>
                
                <div class="item same-height-row clearfix">
                    <div class="image same-height-always">
                        <a href="/blog/2018/03/15/2018-03-15-responsive-iframes-for-shiny-apps/">
                          
                            <img src="/img/shiny_iframe.png" class="img-responsive" alt="Responsive iframes for Shiny Apps">
                          
                        </a>
                    </div>
                    <div class="name same-height-always">
                        <h5><a href="/blog/2018/03/15/2018-03-15-responsive-iframes-for-shiny-apps/">Responsive iframes for Shiny Apps</a></h5>
                    </div>
                </div>
                
                <div class="item same-height-row clearfix">
                    <div class="image same-height-always">
                        <a href="/blog/2018/01/31/2018-01-31-map-your-google-location-data-with-r-shiny/">
                          
                            <img src="/img/heatmap.png" class="img-responsive" alt="Map your Google Location Data with R Shiny">
                          
                        </a>
                    </div>
                    <div class="name same-height-always">
                        <h5><a href="/blog/2018/01/31/2018-01-31-map-your-google-location-data-with-r-shiny/">Map your Google Location Data with R Shiny</a></h5>
                    </div>
                </div>
                
            </div>

            <hr class="hidden-md hidden-lg">
             

        </div>
        

        
        <div class="col-md-4 col-sm-6">

          <h4>Contact</h4>

            <strong>Culture of Insight Ltd.</strong>
        <br>Holborn Studios
        <br>49-50 Eagle Wharf Road
        <br>London
        <br>N1 7ED
      </p>
      


            <a href="/contact" class="btn btn-small btn-template-main">Go to contact page</a>

            <hr class="hidden-md hidden-lg hidden-sm">

        </div>
        
        

    </div>
    
</footer>







<div id="copyright">
    <div class="container">
        <div class="col-md-12">
            
            <p class="pull-left">&copy; 2018 Culture of Insight. All Rights Reserved.</p>
            
            <p class="pull-right">
              Template by <a href="http://bootstrapious.com/free-templates">Bootstrapious</a>.
              

              Ported to Hugo by <a href="https://github.com/devcows/hugo-universal-theme">DevCows</a>
            </p>
        </div>
    </div>
</div>





    </div>
    

    
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-40168473-1', 'auto');
ga('send', 'pageview');
</script>

<script src="//code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/jquery.waypoints.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/Counter-Up/1.0/jquery.counterup.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-parallax/1.1.3/jquery-parallax.js"></script>

<script src="//maps.googleapis.com/maps/api/js?v=3.exp"></script>

<script src="/js/hpneo.gmaps.js"></script>
<script src="/js/gmaps.init.js"></script>
<script src="/js/front.js"></script>


<script src="/js/owl.carousel.min.js"></script>


  </body>
</html>
